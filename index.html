<!-- File: index.html --><!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ“± AIO Panel â€“ Login + OTP + Telegram</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script async src="https://telegram.org/js/telegram-widget.js?7"
          data-telegram-login="fomula_saibot"   <!-- ğŸŸ¡ Bot username -->
          data-size="large"
          data-request-access="write"
          data-onauth="onTelegramAuth(user)"
          data-userpic="false">
  </script>
</head>
<body class="bg-gradient-to-br from-green-50 to-white min-h-screen flex items-center justify-center px-4">
  <div class="bg-white rounded-2xl shadow-xl p-8 max-w-md w-full">
    <h1 class="text-3xl font-bold text-center text-green-700 mb-4">ğŸ“² AIO Panel</h1>
    <p class="text-center text-gray-500 mb-4">á€–á€¯á€”á€ºá€¸á€”á€¶á€•á€«á€á€ºá€–á€¼á€„á€·á€º OTP Login</p><form id="loginForm" class="space-y-4">
  <input type="tel" id="phone" placeholder="á€–á€¯á€”á€ºá€¸á€”á€¶á€•á€«á€á€º (09xxxxxxx)" required
    class="w-full border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-green-500" />

  <button type="submit"
    class="w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-lg transition">
    Send OTP
  </button>
</form>

<form id="otpForm" class="space-y-4 hidden mt-4">
  <input type="text" id="otp" placeholder="OTP (6-digits)" required
    class="w-full border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-yellow-500" />

  <button type="submit"
    class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2 rounded-lg transition">
    Verify OTP
  </button>
</form>

<div id="result" class="text-center mt-4 text-sm text-gray-600"></div>

<div class="text-center mt-6">
  <p class="text-sm text-gray-500 mb-2">á€á€­á€¯á€·á€™á€Ÿá€¯á€á€º Telegram á€–á€¼á€„á€·á€ºá€á€„á€ºá€•á€«:</p>
  <!-- ğŸ”µ Telegram Login Widget will show here -->
</div>

  </div>  <script>
    const API_REGISTER = "https://apiv2.shweballone.com/api/user/register?language=mm";
    const API_VERIFY = "https://apiv2.shweballone.com/api/user/verify-otp";
    const BOT_LINK = "https://t.me/fomula_saibot"; // ğŸŸ¡ Bot redirect after login

    const loginForm = document.getElementById("loginForm");
    const otpForm = document.getElementById("otpForm");
    const phoneInput = document.getElementById("phone");
    const otpInput = document.getElementById("otp");
    const result = document.getElementById("result");

    loginForm.addEventListener("submit", async function(e) {
      e.preventDefault();
      const phone = phoneInput.value;
      result.textContent = "ğŸ“¡ Sending OTP...";

      try {
        const res = await fetch(API_REGISTER, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ phone })
        });

        const data = await res.json();
        if (res.ok) {
          result.textContent = "âœ… OTP á€•á€±á€¸á€•á€­á€¯á€·á€•á€¼á€®á€¸á€•á€«á€•á€¼á€®á‹";
          loginForm.classList.add("hidden");
          otpForm.classList.remove("hidden");
        } else {
          result.textContent = "âŒ " + (data.message || "Register failed");
        }
      } catch (err) {
        result.textContent = "âš  Network error: " + err.message;
      }
    });

    otpForm.addEventListener("submit", async function(e) {
      e.preventDefault();
      const otp = otpInput.value;
      const phone = phoneInput.value;

      result.textContent = "â³ Verifying...";

      try {
        const res = await fetch(API_VERIFY, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ phone, otp })
        });

        const data = await res.json();
        if (res.ok) {
          result.textContent = "ğŸ‰ Success! Redirecting to bot...";
          setTimeout(() => {
            window.location.href = BOT_LINK;
          }, 2000);
        } else {
          result.textContent = "âŒ " + (data.message || "OTP failed");
        }
      } catch (err) {
        result.textContent = "âš  Network error: " + err.message;
      }
    });

    function onTelegramAuth(user) {
      result.innerHTML = `ğŸ‘¤ Telegram Verified: <b>${user.username}</b>`;
      // You can send to backend or combine with phone info here
    }
  </script></body>
</html>
